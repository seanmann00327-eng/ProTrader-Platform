<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProTrader Pro - Advanced Trading Terminal</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- TradingView-Style Top Navigation Bar -->
    <nav class="top-nav">
        <div class="nav-left">
            <div class="logo">
                <i class="fas fa-bolt"></i>
                <span>ProTrader</span>
                <span class="pro-badge">PRO</span>
            </div>
            <div class="symbol-selector">
                <button class="symbol-btn" id="symbolBtn">
                    <span id="currentSymbolNav">AAPL</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
            <div class="timeframe-selector">
                <button class="tf-btn" data-tf="1">1m</button>
                <button class="tf-btn" data-tf="5">5m</button>
                <button class="tf-btn" data-tf="15">15m</button>
                <button class="tf-btn" data-tf="60">1H</button>
                <button class="tf-btn active" data-tf="D">1D</button>
                <button class="tf-btn" data-tf="W">1W</button>
                <button class="tf-btn" data-tf="M">1M</button>
            </div>
            <div class="chart-type-selector">
                <button class="chart-type-btn active" data-type="candles" title="Candlestick">
                    <i class="fas fa-chart-bar"></i>
                </button>
                <button class="chart-type-btn" data-type="line" title="Line">
                    <i class="fas fa-chart-line"></i>
                </button>
                <button class="chart-type-btn" data-type="area" title="Area">
                    <i class="fas fa-chart-area"></i>
                </button>
            </div>
            <div class="nav-divider"></div>
            <button class="nav-icon-btn" id="indicatorsBtn" title="Indicators">
                <i class="fas fa-chart-line"></i>
                <span>Indicators</span>
            </button>
            <button class="nav-icon-btn" id="alertsNavBtn" title="Alerts">
                <i class="fas fa-bell"></i>
            </button>
            <button class="nav-icon-btn" id="replayBtn" title="Replay">
                <i class="fas fa-play"></i>
            </button>
        </div>
        <div class="nav-right">
            <div class="market-status">
                <span class="status-dot"></span>
                <span id="marketStatusText">Market Open</span>
            </div>
            <button class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></button>
            <button class="upgrade-btn"><i class="fas fa-crown"></i> Upgrade</button>
        </div>
    </nav>

    <!-- Main Layout Container -->
    <div class="main-layout">
        <!-- TradingView-Style Left Toolbar -->
        <div class="left-toolbar">
            <div class="toolbar-section">
                <button class="tool-btn active" data-tool="cursor" title="Cursor">
                    <i class="fas fa-mouse-pointer"></i>
                </button>
                <button class="tool-btn" data-tool="crosshair" title="Crosshair">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-section">
                <button class="tool-btn" data-tool="trendline" title="Trend Line">
                    <i class="fas fa-minus" style="transform: rotate(-45deg)"></i>
                </button>
                <button class="tool-btn" data-tool="horizontal" title="Horizontal Line">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="tool-btn" data-tool="vertical" title="Vertical Line">
                    <i class="fas fa-grip-lines-vertical"></i>
                </button>
                <button class="tool-btn" data-tool="ray" title="Ray">
                    <i class="fas fa-long-arrow-alt-right"></i>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-section">
                <button class="tool-btn" data-tool="fib" title="Fibonacci Retracement">
                    <i class="fas fa-wave-square"></i>
                </button>
                <button class="tool-btn" data-tool="pitchfork" title="Pitchfork">
                    <i class="fas fa-code-branch"></i>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-section">
                <button class="tool-btn" data-tool="rectangle" title="Rectangle">
                    <i class="far fa-square"></i>
                </button>
                <button class="tool-btn" data-tool="circle" title="Ellipse">
                    <i class="far fa-circle"></i>
                </button>
                <button class="tool-btn" data-tool="triangle" title="Triangle">
                    <i class="fas fa-play" style="transform: rotate(-90deg)"></i>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-section">
                <button class="tool-btn" data-tool="text" title="Text">
                    <i class="fas fa-font"></i>
                </button>
                <button class="tool-btn" data-tool="arrow" title="Arrow">
                    <i class="fas fa-arrow-up"></i>
                </button>
                <button class="tool-btn" data-tool="brush" title="Brush">
                    <i class="fas fa-paint-brush"></i>
                </button>
            </div>
            <div class="toolbar-divider"></div>
            <div class="toolbar-section">
                <button class="tool-btn" data-tool="measure" title="Measure">
                    <i class="fas fa-ruler"></i>
                </button>
                <button class="tool-btn" data-tool="zoom" title="Zoom In">
                    <i class="fas fa-search-plus"></i>
                </button>
            </div>
            <div class="toolbar-section toolbar-bottom">
                <button class="tool-btn" data-tool="magnet" title="Magnet Mode">
                    <i class="fas fa-magnet"></i>
                </button>
                <button class="tool-btn" data-tool="lock" title="Lock Drawings">
                    <i class="fas fa-lock-open"></i>
                </button>
                <button class="tool-btn" data-tool="visibility" title="Hide All Drawings">
                    <i class="fas fa-eye"></i>
                </button>
                <button class="tool-btn" data-tool="trash" title="Remove All Drawings">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>

        <!-- Chart Area -->
        <div class="chart-area">
            <!-- Symbol Info Bar -->
            <div class="symbol-info-bar">
                <div class="symbol-main-info">
                    <h1 id="current-symbol">AAPL</h1>
                    <span id="company-name" class="company-name">Apple Inc.</span>
                    <span class="exchange-badge">NASDAQ</span>
                </div>
                <div class="price-info">
                    <span class="current-price" id="current-price">$178.58</span>
                    <span class="price-change positive" id="price-change">+2.35 (+1.34%)</span>
                </div>
                <div class="ohlc-info">
                    <div class="ohlc-item"><span class="label">O</span><span class="value" id="ohlc-open">176.23</span></div>
                    <div class="ohlc-item"><span class="label">H</span><span class="value" id="ohlc-high">179.45</span></div>
                    <div class="ohlc-item"><span class="label">L</span><span class="value" id="ohlc-low">175.89</span></div>
                    <div class="ohlc-item"><span class="label">C</span><span class="value" id="ohlc-close">178.58</span></div>
                    <div class="ohlc-item"><span class="label">Vol</span><span class="value" id="ohlc-vol">52.4M</span></div>
                </div>
                <div class="indicator-values" id="indicatorValues">
                    <!-- Indicator values will be dynamically inserted here -->
                </div>
            </div>

            <!-- Chart Container -->
            <div id="chart-container"></div>

            <!-- Chart Footer with Time Range -->
            <div class="chart-footer">
                <div class="time-range-selector">
                    <button class="range-btn" data-range="1D">1D</button>
                    <button class="range-btn" data-range="5D">5D</button>
                    <button class="range-btn" data-range="1M">1M</button>
                    <button class="range-btn active" data-range="3M">3M</button>
                    <button class="range-btn" data-range="6M">6M</button>
                    <button class="range-btn" data-range="YTD">YTD</button>
                    <button class="range-btn" data-range="1Y">1Y</button>
                    <button class="range-btn" data-range="5Y">5Y</button>
                    <button class="range-btn" data-range="ALL">All</button>
                </div>
                <div class="chart-info">
                    <span id="chartTimeInfo">UTC-5</span>
                    <span class="chart-scale" id="chartScale">log</span>
                    <span class="chart-auto" id="chartAuto">auto</span>
                </div>
            </div>
        </div>

        <!-- TradingView-Style Right Panel -->
        <div class="right-panel" style="display: flex; flex-direction: column; width: 280px; min-width: 280px; background: #1e222d;">
            <!-- Panel Tabs -->
            <div class="panel-tabs">
                <button class="panel-tab active" data-panel="watchlist"><i class="fas fa-list"></i></button>
                <button class="panel-tab" data-panel="details"><i class="fas fa-info-circle"></i></button>
                <button class="panel-tab" data-panel="alerts"><i class="fas fa-bell"></i></button>
                <button class="panel-tab" data-panel="news"><i class="fas fa-newspaper"></i></button>
                <button class="panel-tab" data-panel="screener"><i class="fas fa-filter"></i></button>
            </div>

            <!-- Watchlist Panel -->
            <div class="panel-content" id="watchlistPanel">
                <div class="panel-header">
                    <h3>Watchlist</h3>
                    <div class="panel-actions">
                        <button class="panel-action-btn" id="addSymbolBtn" title="Add Symbol"><i class="fas fa-plus"></i></button>
                        <button class="panel-action-btn" title="Settings"><i class="fas fa-cog"></i></button>
                    </div>
                </div>
                <div class="watchlist-search">
                    <i class="fas fa-search"></i>
                    <input type="text" id="symbolInput" placeholder="Search symbol...">
                </div>
                <div class="watchlist-header">
                    <span class="wl-col symbol">Symbol</span>
                    <span class="wl-col last">Last</span>
                    <span class="wl-col change">Chg%</span>
                </div>
                <div class="watchlist-items" id="watchlist-items">
                    <!-- Watchlist items populated by JS -->
                </div>
            </div>

            <!-- Details Panel -->
            <div class="panel-content hidden" id="detailsPanel">
                <div class="panel-header">
                    <h3>Symbol Details</h3>
                </div>
                <div class="details-content">
                    <div class="detail-section">
                        <h4>Key Statistics</h4>
                        <div class="detail-row"><span>Market Cap</span><span id="detailMarketCap">2.87T</span></div>
                        <div class="detail-row"><span>P/E Ratio</span><span id="detailPE">28.45</span></div>
                        <div class="detail-row"><span>EPS</span><span id="detailEPS">6.28</span></div>
                        <div class="detail-row"><span>Dividend Yield</span><span id="detailDividend">0.51%</span></div>
                        <div class="detail-row"><span>52W High</span><span id="detail52High">199.62</span></div>
                        <div class="detail-row"><span>52W Low</span><span id="detail52Low">124.17</span></div>
                        <div class="detail-row"><span>Avg Volume</span><span id="detailAvgVol">58.2M</span></div>
                        <div class="detail-row"><span>Beta</span><span id="detailBeta">1.28</span></div>
                    </div>
                    <div class="detail-section">
                        <h4>Day Range</h4>
                        <div class="range-bar">
                            <div class="range-track">
                                <div class="range-fill" id="dayRangeFill"></div>
                                <div class="range-marker" id="dayRangeMarker"></div>
                            </div>
                            <div class="range-labels">
                                <span id="dayLow">175.89</span>
                                <span id="dayHigh">179.45</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Alerts Panel -->
            <div class="panel-content hidden" id="alertsPanel">
                <div class="panel-header">
                    <h3>Alerts</h3>
                    <div class="panel-actions">
                        <button class="panel-action-btn" id="createAlertBtn" title="Create Alert"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
                <div class="alerts-list" id="alertsList">
                    <!-- Alerts populated by JS -->
                </div>
            </div>

            <!-- News Panel -->
            <div class="panel-content hidden" id="newsPanel">
                <div class="panel-header">
                    <h3>News</h3>
                </div>
                <div class="news-list" id="newsList">
                    <div class="news-item">
                        <span class="news-time">2h ago</span>
                        <span class="news-source">Reuters</span>
                        <p class="news-title">Apple announces new AI features for iPhone</p>
                    </div>
                    <div class="news-item">
                        <span class="news-time">5h ago</span>
                        <span class="news-source">Bloomberg</span>
                        <p class="news-title">Tech stocks rally on earnings optimism</p>
                    </div>
                    <div class="news-item">
                        <span class="news-time">8h ago</span>
                        <span class="news-source">CNBC</span>
                        <p class="news-title">Market update: S&P 500 hits new highs</p>
                    </div>
                </div>
            </div>

            <!-- Screener Panel -->
            <div class="panel-content hidden" id="screenerPanel">
                <div class="panel-header">
                    <h3>Stock Screener</h3>
                </div>
                <div class="screener-filters">
                    <select class="screener-select">
                        <option>Top Gainers</option>
                        <option>Top Losers</option>
                        <option>Most Active</option>
                        <option>52W High</option>
                        <option>52W Low</option>
                    </select>
                </div>
                <div class="screener-results" id="screenerResults">
                    <!-- Screener results populated by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Trading Panel -->
    <div class="bottom-panel">
        <div class="bottom-tabs">
            <button class="bottom-tab active" data-btab="trading">Trading</button>
            <button class="bottom-tab" data-btab="orders">Orders</button>
            <button class="bottom-tab" data-btab="positions">Positions</button>
            <button class="bottom-tab" data-btab="history">History</button>
        </div>
        <div class="bottom-content">
            <div class="trading-panel" id="tradingPanel">
                <div class="trade-form">
                    <div class="trade-side">
                        <button class="side-btn buy active">BUY</button>
                        <button class="side-btn sell">SELL</button>
                    </div>
                    <div class="trade-inputs">
                        <div class="input-group">
                            <label>Quantity</label>
                            <input type="number" id="tradeQty" value="100">
                        </div>
                        <div class="input-group">
                            <label>Order Type</label>
                            <select id="orderType">
                                <option>Market</option>
                                <option>Limit</option>
                                <option>Stop</option>
                                <option>Stop Limit</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Price</label>
                            <input type="number" id="tradePrice" step="0.01" value="178.58">
                        </div>
                    </div>
                    <button class="place-order-btn buy">Place Buy Order</button>
                </div>
                <div class="account-summary">
                    <div class="summary-item">
                        <span class="label">Buying Power</span>
                        <span class="value">$125,450.00</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Day P/L</span>
                        <span class="value positive">+$1,245.32</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Total P/L</span>
                        <span class="value positive">+$12,892.45</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Indicators Modal -->
    <div class="modal" id="indicatorsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Indicators</h2>
                <button class="modal-close" id="closeIndicatorsModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-search">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search indicators..." id="indicatorSearch">
            </div>
            <div class="indicator-categories">
                <button class="cat-btn active" data-cat="all">All</button>
                <button class="cat-btn" data-cat="trend">Trend</button>
                <button class="cat-btn" data-cat="momentum">Momentum</button>
                <button class="cat-btn" data-cat="volatility">Volatility</button>
                <button class="cat-btn" data-cat="volume">Volume</button>
            </div>
            <div class="indicator-list">
                <div class="indicator-item" data-indicator="SMA">
                    <i class="fas fa-chart-line"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">SMA</span>
                        <span class="indicator-desc">Simple Moving Average</span>
                    </div>
                </div>
                <div class="indicator-item" data-indicator="EMA">
                    <i class="fas fa-chart-line"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">EMA</span>
                        <span class="indicator-desc">Exponential Moving Average</span>
                    </div>
                </div>
                <div class="indicator-item" data-indicator="BB">
                    <i class="fas fa-compress-alt"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">Bollinger Bands</span>
                        <span class="indicator-desc">Volatility bands</span>
                    </div>
                </div>
                <div class="indicator-item" data-indicator="RSI">
                    <i class="fas fa-tachometer-alt"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">RSI</span>
                        <span class="indicator-desc">Relative Strength Index</span>
                    </div>
                </div>
                <div class="indicator-item" data-indicator="MACD">
                    <i class="fas fa-wave-square"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">MACD</span>
                        <span class="indicator-desc">Moving Average Convergence Divergence</span>
                    </div>
                </div>
                <div class="indicator-item" data-indicator="VWAP">
                    <i class="fas fa-balance-scale"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">VWAP</span>
                        <span class="indicator-desc">Volume Weighted Average Price</span>
                    </div>
                </div>
                <div class="indicator-item" data-indicator="Vol">
                    <i class="fas fa-chart-bar"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">Volume</span>
                        <span class="indicator-desc">Trading Volume</span>
                    </div>
                </div>
                <div class="indicator-item" data-indicator="ATR">
                    <i class="fas fa-arrows-alt-v"></i>
                    <div class="indicator-info">
                        <span class="indicator-name">ATR</span>
                        <span class="indicator-desc">Average True Range</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Symbol Search Modal -->
    <div class="modal" id="symbolModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Symbol Search</h2>
                <button class="modal-close" id="closeSymbolModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-search">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search symbol or company..." id="modalSymbolSearch">
            </div>
            <div class="symbol-results" id="symbolResults">
                <!-- Symbol results populated by JS -->
            </div>
        </div>
    </div>

    <!-- Alert Modal -->
    <div class="modal" id="alertModal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h2>Create Alert</h2>
                <button class="modal-close" id="closeAlertModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="alert-form">
                <div class="form-group">
                    <label>Symbol</label>
                    <input type="text" id="alertSymbol" value="AAPL" readonly>
                </div>
                <div class="form-group">
                    <label>Condition</label>
                    <select id="alertCondition">
                        <option value="crosses_above">Crosses Above</option>
                        <option value="crosses_below">Crosses Below</option>
                        <option value="greater_than">Greater Than</option>
                        <option value="less_than">Less Than</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Price</label>
                    <input type="number" id="alertPrice" step="0.01" value="180.00">
                </div>
                <button class="create-alert-btn" id="submitAlert">Create Alert</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="js/app.js"></script>
</body>
</html>
